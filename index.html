<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>L'Archipel des Insectes - Exploration √âducative</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet" />

    <script src="https://cdn.babylonjs.com/babylon.js"></script>
    <script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>
    <script src="https://cdn.babylonjs.com/gui/babylon.gui.min.js"></script>
    <script src="https://cdn.babylonjs.com/materials/babylonjs.materials.min.js"></script>

    <link rel="stylesheet" href="css/main.css" />
</head>
<body>

<div id="map-view-screen" class="screen active">
    <canvas id="renderCanvas"></canvas>

    <div class="map-ui">
        <h2 class="map-title">Carte de l'Archipel</h2>
        <p class="map-subtitle">S√©lectionnez une √Æle √† explorer</p>

        <div class="island-legend">
            <div class="legend-item">
                <span class="legend-color" style="background: #7cb342"></span>
                <span>Non explor√©e</span>
            </div>
            <div class="legend-item">
                <span class="legend-color" style="background: #ffa726"></span>
                <span>En cours</span>
            </div>
            <div class="legend-item">
                <span class="legend-color" style="background: #42a5f5"></span>
                <span>Compl√©t√©e</span>
            </div>
        </div>
    </div>

    <div id="island-tooltip" class="island-tooltip">
        <h3 class="tooltip-title">Nom √éle</h3>
        <p class="tooltip-ecosystem">√âcosyst√®me</p>
        <div class="tooltip-progress-container">
            <div class="tooltip-progress-bar"></div>
        </div>
    </div>
</div>

<div id="boat-travel-screen" class="screen">
    <canvas id="boatCanvas"></canvas>

    <div class="travel-overlay">
        <div class="travel-message">
            <h2 id="travel-text">Cap vers l'√Æle...</h2>

            <p id="travel-quote" class="travel-quote">Chargement des donn√©es...</p>

            <div class="wave-animation"></div>
        </div>
    </div>
</div>

<div id="island-exploration-screen" class="screen">
    <canvas id="islandCanvas"></canvas>

    <div id="left-panel" class="side-panel left-panel">
        <div class="panel-header">
            <h3 class="panel-title" id="island-name">Nom de l'√Æle</h3>
            <p class="panel-ecosystem" id="island-ecosystem">√âcosyst√®me</p>
        </div>

        <div class="info-section env-container">
            <h4>Analyse du Biome</h4>
            <p id="island-env-desc" class="educational-text">Chargement des donn√©es environnementales...</p>
        </div>

        <div class="progress-section">
            <h4>Registre d'Exploration</h4>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <p class="progress-text" id="progress-text">0/0 sp√©cimens identifi√©s</p>
        </div>

        <div class="panel-actions">
            <button class="btn-primary" onclick="ArchipelagoApp.openJournal()">
                Ouvrir le Carnet
            </button>
            <button class="btn-secondary" onclick="ArchipelagoApp.returnToMap()">
                Retour √† la carte
            </button>
        </div>
    </div>

    <div id="right-panel" class="side-panel right-panel">
        <button class="panel-close" onclick="ArchipelagoApp.closeInsectPanel()">√ó</button>

        <div class="insect-header">
            <h3 class="insect-name" id="insect-name">Nom Insecte</h3>
            <div class="insect-meta">
                <p id="insect-scientific" class="scientific-name">Nom latin</p>
                <p id="insect-taxonomy" class="taxonomy-info">Classification</p>
            </div>
        </div>

        <div class="insect-model-preview" id="insect-preview">
            <div class="model-placeholder">?</div>
        </div>

        <div class="insect-info-scroll">
            <div class="info-section">
                <h4>R√¥le √âcologique</h4>
                <p id="insect-role" class="educational-text">...</p>
            </div>

            <div class="info-section">
                <h4>Habitat Sp√©cifique</h4>
                <p id="insect-habitat" class="educational-text">...</p>
            </div>

            <div class="info-section">
                <h4>Note du Naturaliste</h4>
                <p id="insect-anecdote" class="educational-text italic">...</p>
            </div>

            <div class="status-badge" id="insect-status">
                <span class="status-icon">üõ°Ô∏è</span>
                <span>Statut de conservation</span>
            </div>
        </div>

        <button class="btn-primary btn-add-journal" onclick="ArchipelagoApp.addToJournal()">
            Ajouter au carnet de bord
        </button>
    </div>

    <div class="help-overlay" id="help-overlay">
        <p>Explorez l'√Æle et cliquez sur les signaux lumineux</p>
    </div>
</div>

<div id="journal-screen" class="screen">
    <div class="journal-container">
        <button class="journal-close" onclick="ArchipelagoApp.closeJournal()">√ó</button>

        <h2 class="journal-title">Carnet de Bord Scientifique</h2>
        <p class="journal-subtitle">Base de donn√©es des arthropodes d√©couverts</p>

        <div class="journal-grid" id="journal-grid"></div>

        <div class="journal-stats">
            <p><strong>Sp√©cimens collect√©s :</strong> <span id="total-discovered">0</span> / <span id="total-insects">20</span></p>
            <p><strong>Biomes cartographi√©s :</strong> <span id="islands-explored">0</span> / 5</p>
        </div>
    </div>

    <div class="journal-modal" id="journal-modal">
        <div class="modal-content">
            <button class="journal-close" onclick="JournalManager.closeModal()">√ó</button>

            <div class="modal-visual">
                <div id="journal-3d-container" style="width:100%; height:100%"></div>
            </div>

            <div class="modal-data">
                <h2 class="panel-title" id="modal-name">Nom</h2>
                <p class="modal-taxonomy" id="modal-taxonomy">Taxonomie</p>
            </div>
        </div>
    </div>
</div>

<div id="conclusion-screen" class="screen">
    <div class="conclusion-content">
        <h2 class="conclusion-title">Mission Accomplie</h2>
        <p class="conclusion-message">
            Vous avez parcouru l'archipel et document√© la vie de ses plus petits habitants.
            Votre carnet de bord est d√©sormais une ressource pr√©cieuse pour la protection de ces √©cosyst√®mes fragiles.
        </p>

        <div class="conclusion-stats">
            <div class="stat-item">
                <span class="stat-number" id="final-insects">20</span>
                <span class="stat-label">Identifications</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="final-islands">5</span>
                <span class="stat-label">√éles explor√©es</span>
            </div>
        </div>

        <button class="btn-primary" onclick="ArchipelagoApp.restart()">
            Nouvelle Exp√©dition
        </button>
    </div>
</div>

<script src="js/config.js"></script>
<script src="js/data-islands.js"></script>
<script src="js/ui-manager.js"></script>
<script src="js/journal.js"></script>
<script src="js/scene-map.js"></script>
<script src="js/scene-boat.js"></script>
<script src="js/scene-island.js"></script>
<script src="js/app.js"></script>
</body>
</html>