<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>L'Archipel des Insectes - Exploration Éducative</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
            href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&family=Open+Sans:wght@300;400;600&display=swap"
            rel="stylesheet"
    />

    <script src="https://cdn.babylonjs.com/babylon.js"></script>
    <script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>
    <script src="https://cdn.babylonjs.com/gui/babylon.gui.min.js"></script>
    <script src="https://cdn.babylonjs.com/materials/babylonjs.materials.min.js"></script>

    <link rel="stylesheet" href="css/main.css" />
</head>
<body>

<div id="map-view-screen" class="screen active">
    <canvas id="renderCanvas"></canvas>

    <div class="map-ui">
        <h2 class="map-title">Carte de l'Archipel</h2>
        <p class="map-subtitle">Sélectionnez une île à explorer</p>

        <div class="island-legend">
            <div class="legend-item">
                <span class="legend-color" style="background: #7cb342"></span>
                <span>Non explorée</span>
            </div>
            <div class="legend-item">
                <span class="legend-color" style="background: #ffa726"></span>
                <span>En cours</span>
            </div>
            <div class="legend-item">
                <span class="legend-color" style="background: #42a5f5"></span>
                <span>Complétée</span>
            </div>
        </div>
    </div>

    <div id="island-tooltip" class="island-tooltip">
        <h3 class="tooltip-title">Nom Île</h3>
        <p class="tooltip-ecosystem">Écosystème</p>
        <p class="tooltip-progress">0/4 découverts</p>
    </div>
</div>

<div id="boat-travel-screen" class="screen">
    <canvas id="boatCanvas"></canvas>
    <div class="travel-overlay">
        <div class="travel-message">
            <p id="travel-text">Cap vers l'île...</p>
            <div class="wave-animation"></div>
        </div>
    </div>
</div>

<div id="island-exploration-screen" class="screen">
    <canvas id="islandCanvas"></canvas>

    <div id="left-panel" class="side-panel left-panel">
        <h3 class="panel-title" id="island-name">Nom de l'île</h3>
        <p class="panel-ecosystem" id="island-ecosystem">Écosystème</p>

        <div class="progress-section">
            <h4>Progression</h4>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <p class="progress-text" id="progress-text">0/0 insectes découverts</p>
        </div>

        <div class="panel-actions">
            <button class="btn-primary" onclick="ArchipelagoApp.openJournal()">
                Carnet de Bord
            </button>
            <button class="btn-primary" onclick="ArchipelagoApp.returnToMap()">
                Retour à la carte
            </button>
        </div>
    </div>

    <div id="right-panel" class="side-panel right-panel">
        <button class="panel-close" onclick="ArchipelagoApp.closeInsectPanel()">×</button>

        <div class="insect-header">
            <h3 class="insect-name" id="insect-name">Nom Insecte</h3>
            <p class="insect-scientific" id="insect-scientific">Nom latin</p>
        </div>

        <div class="insect-model-preview" id="insect-preview">
            <div class="model-placeholder">?</div>
        </div>

        <div class="insect-info">
            <div class="info-section">
                <h4>Rôle Écologique</h4>
                <p id="insect-role">...</p>
            </div>

            <div class="info-section">
                <h4>Habitat</h4>
                <p id="insect-habitat">...</p>
            </div>

            <div class="info-section">
                <h4>Anecdote</h4>
                <p id="insect-anecdote">...</p>
            </div>

            <div class="status-badge" id="insect-status">
                <span class="status-icon">⚠️</span>
                <span>Statut</span>
            </div>
        </div>

        <button class="btn-primary btn-add-journal" onclick="ArchipelagoApp.addToJournal()">
            Ajouter au carnet
        </button>
    </div>

    <div class="help-overlay" id="help-overlay">
        <p>Cliquez sur les insectes pour les découvrir</p>
    </div>
</div>

<div id="journal-screen" class="screen">
    <div class="journal-container">
        <button class="journal-close" onclick="ArchipelagoApp.closeJournal()">×</button>

        <h2 class="journal-title">Carnet de Bord Scientifique</h2>
        <p class="journal-subtitle">Collection d'insectes découverts</p>

        <div class="journal-grid" id="journal-grid">
        </div>

        <div class="journal-stats">
            <p><strong>Total découvert :</strong> <span id="total-discovered">0</span> / <span id="total-insects">20</span></p>
            <p><strong>Îles explorées :</strong> <span id="islands-explored">0</span> / 5</p>
        </div>
    </div>
</div>

<div id="conclusion-screen" class="screen">
    <div class="conclusion-content">
        <h2 class="conclusion-title">Félicitations !</h2>
        <p class="conclusion-message">
            Les insectes sont les fondations invisibles de nos écosystèmes.<br /><br />
            Les comprendre, c'est apprendre à mieux protéger notre environnement.
        </p>

        <div class="conclusion-stats">
            <div class="stat-item">
                <span class="stat-number">20</span>
                <span class="stat-label">Insectes découverts</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">5</span>
                <span class="stat-label">Îles explorées</span>
            </div>
        </div>

        <button class="btn-primary" onclick="ArchipelagoApp.restart()">
            Recommencer l'exploration
        </button>
    </div>
</div>

<script src="js/config.js"></script>
<script src="js/data-islands.js"></script>
<script src="js/ui-manager.js"></script>
<script src="js/journal.js"></script>

<script src="js/scene-map.js"></script>
<script src="js/scene-boat.js"></script>
<script src="js/scene-island.js"></script>

<script src="js/app.js"></script>
</body>
</html>